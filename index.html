function getAggregated(){
  const g={};

  logData.forEach(d=>{
    const t = new Date(d.t);
    let k;

    const date = t.toLocaleDateString('id-ID');

    if(currentFilter === 'sec'){
      k = t.toLocaleString('id-ID');
    }

    if(currentFilter === 'min'){
      k = date + ' ' +
          t.getHours().toString().padStart(2,'0') + ':' +
          t.getMinutes().toString().padStart(2,'0');
    }

    if(currentFilter === 'hour'){
      k = date + ' ' +
          t.getHours().toString().padStart(2,'0') + ':00';
    }

    if(currentFilter === 'day'){
      k = date;
    }

    if(!g[k]) g[k] = {s:[],h:[],c:[],d:[]};

    g[k].s.push(d.s);
    g[k].h.push(d.h);
    g[k].c.push(d.c);
    g[k].d.push(d.d);
  });

  return Object.keys(g).map(k=>({
    time:k,
    s:(avg(g[k].s)).toFixed(1),
    h:(avg(g[k].h)).toFixed(1),
    c:Math.round(avg(g[k].c)),
    d:(avg(g[k].d)).toFixed(1)
  }));
}
